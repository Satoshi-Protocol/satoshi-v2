# TODO

- [x] E2E LayerZero
- [x] update GasPool from Xapp to new Contract
- [x] check for all Facet initialize

- [x] DebtTokenTest
  - [x] test_deploy
  - [x] testGetsBalanceOfUser
  - [x] testGetsTotalSupply
  - [x] testTokenName
  - [x] testSymbol
  - [x] testDecimals
  - [x] testAllowance
  - [x] testTransfer
  - [x] testTransferFrom
  - [x] testMint
  - [x] testFailMintToZero
  - [x] testFailBurnFromZero
  - [x] testFailBurnInsufficientBalance
  - [x] testFailApproveToZeroAddress
  - [x] testFailTransferToZeroAddress
  - [x] testFailTransferInsufficientBalance
  - [x] testFailTransferFromInsufficientApprove
  - [x] testPermit
  - [x] testFlashloan
  - [x] test_relyAndDeny
  - [x] testFlashFee

- [x] TroveManagerTest
  - [x] test_getTotalActiveCollateral
  - [x] test_hasPendingRewards
  - [x] test_getRedemptionRate
  - [x] test_getRedemptionRateWithDecay
  - [x] test_getBorrowingRate
  - [x] test_getBorrowingFee
  - [x] test_setClaimStartTime
  - [x] test_getTotalActiveDebt
  - [x] test_getRedemptionFeeWithDecay
  - [x] test_getTroveStake
  - [x] test_getEntireSystemDebt
  - [x] test_setPause
  - [x] test_startSunset
  - [x] test_collectInterests
  - [x] test_removeTroveManager

- [x] SatoshiPeripheryTest
  - [x] testOpenTroveByRouter
  - [x] testAddCollByRouter
  - [x] testwithdrawCollByRouter
  - [x] testWithdrawDebtByRouter
  - [x] testRepayDebtByRouter
  - [x] testAdjustTroveByRouter_AddCollAndRepayDebt
  - [x] testAdjustTroveByRouter_AddCollAndWithdrawDebt
  - [x] testAdjustTroveByRouter_WithdrawCollAndRepayDebt
  - [x] testAdjustTroveByRouter_WithdrawCollAndWithdrawDebt
  - [x] testCloseTroveByRouter
  - [x] testRedeemByRouter
  - [x] testLiquidateByRouter

- [x] LiquidateTest
  - [x] test_LiquidateICRLessThan100InRecoveryMode
  - [x] test_LiquidateSPNotEnoughInNormalMode
  - [x] test_LiquidateICRLargeThanMCRInRecoveryMode
  - [x] test_liquidateTroves_LessThan100InRecoveryMode
  - [x] test_liquidateTroves_2ICRLessThan100InRecoveryMode
  - [x] test_Liquidate2ICRLessThan100InRecoveryMode
  - [x] test_liquidateTroves_ICRLargeThanMCRInRecoveryMode
  - [x] test_liquidateTroves_MaxICR

- [x] StabilityPoolTest
  - [x] testProvideToSP
  - [x] testWithdrawFromSPFull
  - [x] testLiquidateInNormalModeICRLessThanMCR
  - [x] testLiquidateInNormalModeICRLessThan100
  - [x] testCorrectUpdateSnapshot
  - [x] testTryToProvideMoreThanBlanace
  - [x] testTryToProvide0Blanace
  - [x] testClaimCollGain
  - [x] testCompoundedDebt
  - [x] test_2lquidateAndProvide
  - [x] testOSHIEmissionWhenEmissionEnd
  - [x] test_setRewardrate
  - [x] test_normalAfteremptySP
  - [x] test_liquidateAndWithdrawFromSP
  - [x] test_liquidateAndWithdrawFromSPAll
  - [x] test_startCollateralSunset

- [x] RedeemTest
  - [x] test_getRedemptionHints
  - [x] test_PartialRedeem
  - [x] test_RedeemOnlyOneTrove
  - [x] test_redeem

- [x] RewardManagerTest
  - [x] test_AccrueInterst2TroveCorrect
  - [x] test_OneTimeBorrowFeeIncreaseF_SAT
  - [x] test_FeeReceiverReceiveCorrectAmount
  - [x] test_unstakeFromRMBeforeUnlock
  - [x] test_unstakeFromRMAfterUnlock
  - [x] test_stakeAndUnstakePartial
  - [x] test_unstake12MonthFromRMAfterUnlock
  - [x] test_StakeOSHIToRM
  - [x] test_getOSHIFromSP
  - [x] test_getPendingCollGain
  - [x] test_increaseSATPerUintStakedbyOwner

- [x] OSHITokenTest
  - [x] testGetsBalanceOfUser
  - [x] testGetsTotalSupply
  - [x] testTokenName
  - [x] testSymbol
  - [x] testDecimals
  - [x] testAllowance
  - [x] testTransfer
  - [x] testTransferFrom
  - [x] testFailApproveToZeroAddress
  - [x] testFailTransferToZeroAddress
  - [x] testFailTransferInsufficientBalance
  - [x] testFailTransferFromInsufficientApprove
  - [x] testPermit
  - [x] testBurnToken

- [x] NexusYieldTest
  - [x] test_swapInAndOut_noFee
  - [x] test_pause
  - [x] test_resume
  - [x] test_transerTokenToPrivilegedVault
  - [x] test_swapIn
  - [x] test_swapInZeroFee
  - [x] test_previewSwapSATForStable
  - [x] test_previewSwapStableForSAT
  - [x] test_scheduleSwapSATForStable
  - [x] test_scheduleTwice
  - [x] test_swapOutBalanceNotEnough
  - [x] test_mintCapReached
  - [x] test_sunsetAsset
  - [x] test_convertDebtTokenToAssetAmount
  - [x] test_convertAssetToDebtTokenAmount
  - [x] test_setAssetConfig
  - [x] test_setRewardManager
  - [x] test_isNotActive
  - [x] test_isNotPriviledge
  - [x] test_assetNotSupport
  - [x] test_zeroAddress
  - [x] test_amountTooSmall
  - [x] test_oraclePriceLessThan1
  - [x] test_priceOutOfRange